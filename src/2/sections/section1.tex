\section{System-level modeling}

Simulations are a great tool to get a better understanding of the impact of \gls{esd}s on integrated circuits.
They allow introspection inside specific nets of the circuit, observe behavior that would be hard to observe in the field.
However, \gls{esd} simulations are not trivial, and like any simulation system, must be validated against measurement data before being used as an investigation tool.
Models for key devices must be derived, at each scale of the system.

In this chapter, the methodology for building models at the system level is detailed.
It mostly targets ESD generators and lab equipment.

\subsection{Transmission lines}

\gls{esd} events generally last a few hundred nanoseconds.

Any element that introduces a delay in the same order of magnitude (down to the nanosecond) can impact the waveforms.
Delays and propagation phenomena in general can obviously offset a waveform in time,
but also cause ringing oscillations with a period directly proportionnal to the delay.

Delays can be generated by cables and metal tracks, such as coaxial cables, twisted wires, wires over ground \gls{pcb} traces and so on.

Most cables and PCB traces, although of very different construction, usually behave as lossless transmission lines and can be modeled as such.

A transmission line is defined by two key parameters, a \gls{Zc} and a propagation delay.


For a purely lossless transmission line, the characteristic impedance is purely real.
In practice, truly lossless cables do not exist.
However, most coaxial cables exihibit very low losses below frequencies of a couple GHz, which is sufficient during ESD simulations to consider them lossless.

\subsubsection{Distributed model}

Physically, a transmission line is a distributed capacitance an inductance.
It can be modeled in a discrete manner, as a sum of unitary RLC elements.
The value for this unit element can be computed trivially from the characteristic impedance \gls{Zc}.

EQUATION RLC vs Zc

A single element generates a delay DT, much smaller than the delay of the cable.
To model the entire cable, many instances of this element are connected in series.
There is a tradoff to make between the delay of the unit element and the total amount of unit elements required to model the cable.

A small delay makes the cable model more accurate, however, more elements are required for the total cable, which results in longer simulation times.
On the other hand, a larger delay will limit the accuracy of the simulation by reducing the bandwidth of the model, which is not desirable either.

The main advantage for the distributed model is its ability to support lossy transmission lines (to check if this is true for a TL that has variable losses at low freqs).

The main disavantage is that it does not scales well with longer delays.
To keep the same bandwidth with a longer cable, the only solution is to increase the element count, resulting in longer simulation time.

\subsubsection{Behavioral model}

A behavioral model can describe efficiently and with great accuracy the behavior of most lossless transmission lines.

The electrical model is constituted of two voltage-controlled voltage sources and two resistors.
Compared to the classic RLC distributed model, the behavioral model has infinite bandwith, and constant complexity (compared to RLC where the amount of elements increases with the required bandwidth).

ELECTRICAL MODEL

EQUATIONS

The equations illustrate relations between incident and reflected waves, and voltage and current ratio.

\subsubsection{Conclusion on transmission line modeling}

To determine which model performs best, a few simulations are compared.
The test setup consist of a square pulse voltage source, with a risetime of 1 ps, a transmission line, and an unmatched termination at 25 ohms.

The RLC model with different settings is compared to the behavioral model.

cable 10ns, 50ns ?

- Config accurate
- Config fast
- Config lossy ?

Overall, the behavioral model outperforms the distributed model.
It is much more accurate (because not inherently limited in bandwith) and extremely fast to simulate.

The main reason for using the distributed model is to take losses into account, which is rather rare in practice.
